<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeamLy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="../img/group pp square.png" type="image/x-icon">
	<script src="https://kit.fontawesome.com/cfb2602f3e.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="top-bar">
			<div class="logo">
				<button class="menu-button" onclick="toggleSidebar()">☰</button>
				<h1 style="display: flex;"> TeamLy</h1>
			</div>
			<div class="account-menu" onclick="toggleAccountMenu('display')">
                <img class="ProfilePicture" src="../img/BFF.jpg" alt="PFP">
                <div class="overlay"></div>
				<div class="account-dropdown" id="accountDropdown">
						<img src="../img/BFF.jpg" id="popupProfilePicture"  alt="bigger PFP">
                        <h2 id="popupName"><i>Firstname Lastname</i></h2>
                        <h3 id="popupRole">Role</h3>
						<div class="dropdown-buttons">
							<button id="settings-button"><i class="fa-solid fa-gear"></i> Account Settings</button>
							<button id="theme-button" onclick="toggleTheme()"><i class="fa-solid fa-moon"></i> Toggle Theme</button>
						</div>
						<button class="close-popup">✖</button>
				</div>
            </div>
        </div>

        <div class="sidebar" id="sidebar">
            <button onclick="switchView('task-list')"><i class="fa-solid fa-list"></i> <span>Active Tasks</span></button>
            <button onclick="switchView('calendar')"><i class="fa-solid fa-calendar-days"></i> <span>Calendar</span></button>
            <button onclick="switchView('projects')"><i class="fa-solid fa-network-wired"></i> <span>Projects</span></button>
            <button onclick="switchView('notifications')"><i class="fa-solid fa-bell"></i> <span>Notifications</span></button>
            <button onclick="switchView('reports')"><i class="fa-solid fa-file-invoice"></i> <span>reports</span></button>
            <button onclick="switchView('taskHistory')"><i class="fa-solid fa-clock-rotate-left"></i> <span>Task History</span></button>
        </div>

        <div class="main-content" id="mainContent">

            <!-- Task list  -->
            <div id="task-list-view" class="view">
                <h2 style="margin-bottom: 10px;">Task List</h2>
                <div class="task-form">
                    <label for="newTask"></label><input type="text" id="newTask" placeholder="New Task">
                    <label for="taskDate"></label><input type="date" id="taskDate">
                    <div class="flag-selector">
                        <input type="radio" name="flag" id="green" value="#4CAF50" checked>
                        <label for="green" class="flag green"></label>
                        <input type="radio" name="flag" id="yellow" value="#FFEB3B">
                        <label for="yellow" class="flag yellow"></label>
                        <input type="radio" name="flag" id="red" value="#F44336">
                        <label for="red" class="flag red"></label>
                      </div>
                      

                    
                    <button onclick="addTask()">Add a Task +</button>   
                </div>
                <div class="task-list">
                    <div class="task-line">
                        <div style="color: gray;">Task</div>
                        <div>Title</div>
                        <div>Project</div>
                        <div>Priority</div>
                        <div>Date</div>
                        <div>Owner</div>
                    </div>
                    <hr>
                    <div class="task-line">
                        <div style="color: gray;">TSK-123</div>
                        <div>Doing something useful</div>
                        <div style="display: flex;"><div style="border: 1px solid gray; border-radius: 20px; padding: 0 4px;"> Project 1</div></div>
                        <div>flag</div>
                        <div>Dec 5</div>
                        <div>me</div>
                        <div>...</div>
                    </div>
                    <hr>

                </div>
            </div>

            <!-- Calendar -->
            <div id="calendar-view" class="view" style="display: none;">
                <h2>Calendar</h2>
                <div class="calendar-controls">
                    <button onclick="changeMonth(-1)">Prev</button>
                    <span id="currentMonth"></span>
                    <button onclick="changeMonth(1)">Next</button>
                </div>
                <div class="calendar" id="calendar"></div>
            </div>
            <div class="button-container">
                <button class="chat-button" onclick="toggleChat()"><i class="fa-solid fa-comments"></i> <span>Chat</span></button>
                <button class="iaChatbot-button" onclick="openAI()"><i class="fa-solid  fa-star"></i> <span>AI Assistant</span></button>             
            </div>
			<div class="chat-box" id="chatBox">
				<div class="chat-header" onclick="toggleChat()">Team Chat</div>
				<div class="chat-body" id="chatBody"></div>
				<div class="chat-footer">
                    <label for="chatInput"></label><input type="text" id="chatInput" placeholder="Type a message...">
					<button onclick="sendMessage()">Send</button>
				</div>
			</div>
		</div>
    </div>
	<script src="script.js"></script>
</body>
</html>